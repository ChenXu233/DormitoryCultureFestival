# 寝室文化节项目需求文档

## 项目概述

本项目旨在为寝室文化节提供一个综合性的线上互动平台，通过室友默契度答题、最佳室友特质词云展示、寝室桌面搭建模拟以及寝室大合照证书生成等功能，增强室友之间的互动和凝聚力，同时为线下活动提供线上支持。

## 系统架构

项目采用前后端分离架构：
- 前端：基于 Nuxt.js 框架开发的单页应用
- 后端：基于 Python 的 FastAPI 框架
- 数据库：存储用户信息、答题数据、词云选择结果等
- AI 服务：用于图片美化、证书生成等功能

## 核心功能模块

### 1. 室友默契度答题模块

#### 功能描述
- 提供固定题库的默契度问答
- 答题完成后生成唯一代码（用于后续证书生成）
- 答题数据保存至数据库，便于后续统计分析

#### 详细需求
- 题库固定，包括 20-30 道反映室友关系的问题
- 每道题提供多个选项
- 答题完成后，系统自动计算得分
- 没有唯一的的答案，只是计算不同维度特质得分
- 生成 6-8 位的唯一代码，用于后续功能调用
- 代码与用户答题数据关联存储

### 2. 最佳室友词云展示模块

#### 功能描述
- 在线的词云生成模块，用户可以选择自己喜欢的词汇
- 动态根据所有用户的词汇生成词云展示
- 用户的词云数据通过后端服务加载，展示在前端页面

#### 详细需求
- 预设 50+个描述室友特质的词汇
- 支持多选（最多选择 10 个词汇）
- 词云生成时，词汇大小可根据用户偏好调整
- 提供多种词云形状和颜色主题选择
- 支持词云图片的下载和分享
- 记录用户的词汇选择偏好

### 3. 寝室桌面搭建模块

#### 功能描述
- 用户可以选择多个贴图元素在虚拟桌面上进行排列组合
- 模拟搭建自己理想的寝室桌面
- 将搭建结果提交给 AI 进行美化处理

#### 详细需求
- 提供多种常用桌面元素贴图（如书本、显示器、植物、装饰等）
- 支持拖拽、旋转、缩放等操作
- 支持多层级排序
- 提供背景桌面选择
- 搭建完成后可以预览效果
- AI 美化后的图片支持下载
- 保留用户的搭建配置，支持修改和重新生成

### 4. 寝室大合照证书模块

#### 功能描述
- 结合之前生成的默契度代码
- 凑齐 4 个人的代码后，计算寝室整体默契度
- 上传线下合照图片，AI 美化处理
- 自动生成带有寝室特色的证书

#### 详细需求
- 支持输入 4 个成员的默契度代码进行验证
- 系统计算四人之间的平均默契度和最佳配对
- 提供图片上传界面，支持常见图片格式
- AI 对上传图片进行智能美化（亮度、对比度、色彩优化等）
- 证书包含：美化后的合照、寝室默契度评分、成员名单、最佳特质词云摘要等元素
- 生成的证书支持高清下载
- 提供证书分享功能

## 技术栈要求

### 前端
- Nuxt.js 框架
- Vue.js 3
- Tailwind CSS 用于样式设计
- 响应式布局，支持移动端和桌面端
- 图表库（如 ECharts）用于数据可视化
- 词云生成库（如 wordcloud2.js）

### 后端
- FastAPI 框架
- Python 3.9+
- 数据库 ORM（如 SQLAlchemy）
- 图片处理库（如 Pillow）
- 文件存储服务

### AI 服务
- 图片美化 API 接口

## 数据库设计

### 答题记录表
- id: 主键
- 答题内容（JSON 格式）
- 答题时间

### 词云记录表
直接使用 json 文本存储

## 界面设计要求

### 整体风格
- 清新、活力的设计风格
- 主色调以蓝色和绿色为主（代表和谐与活力）
- 辅助色使用温暖的橙色（增加亲和力）
- 简洁明了的导航结构
- 动画过渡效果要自然流畅

### 页面布局
- 首页：展示四个功能模块的入口，配以简短说明和引导
- 答题页面：清晰的题目展示，友好的答题交互
- 词云页面：直观的词汇选择界面，实时预览效果
- 桌搭页面：拖放式操作界面，多元素选择面板
- 证书页面：简洁的表单输入，清晰的步骤指引

## 性能要求

- 页面加载时间：首屏<2 秒，其他页面<1 秒
- 响应时间：用户操作响应<300ms
- AI 处理：图片美化<5 秒，证书生成<10 秒
- 并发支持：支持 500 人同时在线使用

## 安全要求

- 数据传输采用 HTTPS 加密
- 用户数据存储加密
- 图片上传前进行安全检查
- 输入验证和防 SQL 注入
- 敏感操作需要验证

## 部署要求

- 前端部署在静态资源服务器
- 后端部署在云服务器或容器服务
- 数据库使用云数据库服务
- 支持 Docker 容器化部署

## 验收标准

1. 所有功能模块按照需求正常运行
2. 界面美观、交互流畅
3. 数据存储安全可靠
4. 系统性能符合要求
5. 代码规范、文档完整

## 项目时间线

- 需求分析与设计：1 周
- 前端开发：3 周
- 后端开发：3 周
- AI 服务对接：1 周
- 测试与优化：1 周
- 上线部署：1 周

总计：约 10 周开发周期

## 附录

### 预设题库示例

1. 你的室友最常说的一句话是什么？
2. 你的室友最喜欢的零食是什么？
3. 你的室友周末通常几点起床？
4. 你的室友最害怕什么？
5. 你的室友最喜欢的电影类型是什么？

### 预设室友特质词汇示例

友好、幽默、勤奋、整洁、开朗、细心、包容、乐观、体贴、自律、热情、安静、友善、创意、可靠、耐心、诚实、积极、理性、感性